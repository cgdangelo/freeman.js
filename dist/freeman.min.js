(function(){"use strict";var e,n,t,i,r,u,o;i=require("dgram"),e=require("binary-parser").Parser,u=require("ref"),e.prototype.ztstring=function(e,n){return null==n&&(n={}),n.zeroTerminated=!0,this.string(e,n)},t=function(e){var n;return n=i.createSocket("udp4"),n.on("error",function(e){throw n.close(),e}),n.on("message",function(n){return e(n)}),n},n=function(e){return Buffer.concat([new Buffer("每每每每","binary"),e,new Buffer("\x00","binary")])},o=function(e,n,i,r){var u;return u=t(r),u.send(i,0,i.length,n,e,function(e){if(null!=e)throw e})},r=function(t,i,r){var u,c,f,a;return a=(new e).endianess("little").uint8("mode").uint8("witnesses").uint8("duration"),f=(new e).int16le("port").ztstring("name"),u=(new e).endianess("little").uint32("prefix").uint8("header").uint8("protocol_version").ztstring("name").ztstring("map").ztstring("folder").ztstring("game").int16("game_id").uint8("players").uint8("max_players").uint8("bots").uint8("server_type").uint8("environment").uint8("visibility").uint8("vac").choice("the_ship",{tag:function(){return-1!==[2400,2401,2402,2412].indexOf(this.game_id)?1:void 0},choices:{1:a},defaultChoice:function(){}}).ztstring("game_version").uint8("edf").choice("port",{tag:function(){return 128&this.edf?1:void 0},choices:{1:"int16le"},defaultChoice:function(){}}).choice("steam_id",{tag:function(){return 16&this.edf?1:void 0},choices:{1:(new e).buffer(null,{length:8})},defaultChoice:function(){}}).choice("source_tv",{tag:function(){return 64&this.edf?1:void 0},choices:{1:f},defaultChoice:function(){}}).choice("keywords",{tag:function(){return 32&this.edf?1:void 0},choices:{1:(new e).ztstring()},defaultChoice:function(){}}).choice("game_id64",{tag:function(){return 1&this.edf?1:void 0},choices:{1:(new e).buffer(null,{length:8})},defaultChoice:function(){}}),c=new Buffer("TSource Engine Query","binary"),o(t,i,n(c),function(e){var n;return n=u.parse(e),null!=n.steam_id&&Buffer.isBuffer(n.steam_id)&&(n.steam_id=n.steam_id.readUInt64LE()),null!=n.game_id64&&Buffer.isBuffer(n.game_id64)&&(n.game_id64=n.game_id64.readUInt64LE()),r(n)})},module.exports={info:r}}).call(this);